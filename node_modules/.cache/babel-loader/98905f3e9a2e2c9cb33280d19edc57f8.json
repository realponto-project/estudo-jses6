{"ast":null,"code":"var _jsxFileName = \"/home/guilhermestain/development/stock-front/src/pages/Relatorios/RelatorioOs/RelatorioOsContainer/index.js\";\nimport React, { Component } from 'react';\nimport './index.css';\nimport { Pagination, DatePicker, Button, Input, Select, Spin } from 'antd';\nimport { getTecnico } from '../../../../services/tecnico';\nimport { getTodasOs } from '../../../../services/reservaOs';\nimport moment from 'moment';\nconst Option = Select.Option;\n\nclass GerenciarEntrada extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      avancado: false,\n      os: '',\n      rs: '',\n      data: '',\n      tecnico: 'Não selecionado',\n      tecnicoArray: [],\n      valueDate: {\n        start: '2019/01/01'\n      },\n      page: 1,\n      total: 10,\n      count: 0,\n      show: 0,\n      OsArray: {\n        rows: []\n      }\n    };\n\n    this.getAllOs = async () => {\n      this.setState({\n        loading: true\n      });\n      const query = {\n        filters: {\n          os: {\n            specific: {\n              deletedAt: {\n                start: '2019/01/01'\n              }\n            }\n          }\n        },\n        order: {\n          field: 'deletedAt',\n          acendent: true\n        },\n        page: this.state.page,\n        total: this.state.total,\n        required: false,\n        paranoid: false\n      };\n      await getTodasOs(query).then(resposta => this.setState({\n        OsArray: resposta.data,\n        page: resposta.data.page,\n        count: resposta.data.count,\n        show: resposta.data.show\n      }));\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.getAllTecnico = async () => {\n      await getTecnico().then(resposta => this.setState({\n        tecnicoArray: resposta.data\n      }));\n    };\n\n    this.onChangeTecnico = async value => {\n      await this.setState({\n        tecnico: value\n      });\n    };\n\n    this.componentDidMount = async () => {\n      await this.getAllOs();\n      await this.getAllTecnico();\n    };\n\n    this.avancado = () => {\n      this.setState({\n        avancado: !this.state.avancado\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.searchDate = async e => {\n      if (!e[0] || !e[1]) return;\n      await this.setState({\n        valueDate: {\n          start: e[0]._d,\n          end: e[1]._d\n        }\n      }); // await this.getAllEntrada()\n    };\n\n    this.formatDateFunct = date => {\n      moment.locale('pt-br');\n      const formatDate = moment(date).format('L');\n      const formatHours = moment(date).format('LT');\n      const dateformated = \"\".concat(formatDate, \" \").concat(formatHours);\n      return dateformated;\n    };\n\n    this.test = () => {\n      if (this.state.OsArray.rows.length !== 0) {\n        return this.state.OsArray.rows.map(line => React.createElement(\"div\", {\n          className: \"div-100-Gentrada\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"div-lines-ROs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cel-Os-cabecalho-ROs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, line.id), React.createElement(\"div\", {\n          className: \"cel-rs-cabecalho-ROs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, line.razaoSocial), React.createElement(\"div\", {\n          className: \"cel-tecnico-cabecalho-ROs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, line.technician), React.createElement(\"div\", {\n          className: \"cel-data-cabecalho-ROs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, line.formatedDate)), React.createElement(\"div\", {\n          className: \" div-separate1-Gentrada\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        })));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"div-naotemnada\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, \"N\\xE3o h\\xE1 nenhuma reserva finalizada\");\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"div-card-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"linhaTexto-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h1-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Relat\\xF3rio das Os\")), this.state.avancado ? React.createElement(\"div\", {\n      className: \"div-linha-avancado-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-ocultar-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      className: \"button\",\n      onClick: this.avancado,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Ocultar\")), React.createElement(\"div\", {\n      className: \"div-linha1-avancado-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-Os-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-text-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Os:\"), React.createElement(Input, {\n      className: \"input-100\",\n      style: {\n        width: '100%'\n      },\n      name: \"os\",\n      value: this.state.os,\n      placeholder: \"Digite a Os\",\n      onChange: this.onChange,\n      allowClear: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"div-rs-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-textRs-Os\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Raz\\xE3o social:\"), React.createElement(Input, {\n      className: \"input-100\",\n      style: {\n        width: '100%'\n      },\n      name: \"rs\",\n      value: this.state.rs,\n      placeholder: \"Digite o raz\\xE3o social\",\n      onChange: this.onChange,\n      allowClear: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"div-linha1-avancado-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-data-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-text-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Data:\"), React.createElement(DatePicker.RangePicker, {\n      placeholder: \"Digite a data\",\n      format: \"DD/MM/YYYY\",\n      dropdownClassName: \"poucas\",\n      onChange: this.searchDate,\n      onOk: this.searchDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"div-tecnico-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-text-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"T\\xE9cnico:\"), this.state.tecnicoArray.length === 0 ? React.createElement(Select, {\n      value: \"Nenhum tecnico cadastrado\",\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }) : React.createElement(Select, {\n      value: this.state.tecnico,\n      style: {\n        width: '100%'\n      },\n      onChange: this.onChangeTecnico,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, this.state.tecnicoArray.map(valor => React.createElement(Option, {\n      value: valor.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, valor.name)))))) : React.createElement(\"div\", {\n      className: \"div-avancado-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      className: \"button\",\n      onClick: this.avancado,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Avan\\xE7ado\")), React.createElement(\"div\", {\n      className: \"div-cabecalho-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cel-Os-cabecalho-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"N\\xBA Os\"), React.createElement(\"div\", {\n      className: \"cel-rs-cabecalho-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Raz\\xE3o social\"), React.createElement(\"div\", {\n      className: \"cel-tecnico-cabecalho-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"T\\xE9cnico\"), React.createElement(\"div\", {\n      className: \"cel-data-cabecalho-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Data atendimento\")), React.createElement(\"div\", {\n      className: \" div-separate-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }), this.state.loading ? React.createElement(\"div\", {\n      className: \"spin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(Spin, {\n      spinning: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    })) : this.test(), React.createElement(\"div\", {\n      className: \"footer-ROs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      defaultCurrent: 1,\n      total: 50,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default GerenciarEntrada;","map":{"version":3,"sources":["/home/guilhermestain/development/stock-front/src/pages/Relatorios/RelatorioOs/RelatorioOsContainer/index.js"],"names":["React","Component","Pagination","DatePicker","Button","Input","Select","Spin","getTecnico","getTodasOs","moment","Option","GerenciarEntrada","state","avancado","os","rs","data","tecnico","tecnicoArray","valueDate","start","page","total","count","show","OsArray","rows","getAllOs","setState","loading","query","filters","specific","deletedAt","order","field","acendent","required","paranoid","then","resposta","getAllTecnico","onChangeTecnico","value","componentDidMount","onChange","e","target","name","searchDate","_d","end","formatDateFunct","date","locale","formatDate","format","formatHours","dateformated","test","length","map","line","id","razaoSocial","technician","formatedDate","render","width","valor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,aAAP;AACA,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,MAAjC,EAAyCC,KAAzC,EAAgDC,MAAhD,EAAwDC,IAAxD,QAAoE,MAApE;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;MAGQC,M,GAAWL,M,CAAXK,M;;AAER,MAAMC,gBAAN,SAA+BX,SAA/B,CAAyC;AAAA;AAAA;AAAA,SAEvCY,KAFuC,GAE/B;AACNC,MAAAA,QAAQ,EAAE,KADJ;AAENC,MAAAA,EAAE,EAAE,EAFE;AAGNC,MAAAA,EAAE,EAAE,EAHE;AAINC,MAAAA,IAAI,EAAE,EAJA;AAKNC,MAAAA,OAAO,EAAE,iBALH;AAMNC,MAAAA,YAAY,EAAE,EANR;AAONC,MAAAA,SAAS,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAPL;AAQNC,MAAAA,IAAI,EAAE,CARA;AASNC,MAAAA,KAAK,EAAE,EATD;AAUNC,MAAAA,KAAK,EAAE,CAVD;AAWNC,MAAAA,IAAI,EAAE,CAXA;AAYNC,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAE;AADC;AAZH,KAF+B;;AAAA,SAmBvCC,QAnBuC,GAmB5B,YAAY;AAErB,WAAKC,QAAL,CAAc;AACZC,QAAAA,OAAO,EAAE;AADG,OAAd;AAIA,YAAMC,KAAK,GAAG;AACZC,QAAAA,OAAO,EAAE;AACPjB,UAAAA,EAAE,EAAE;AACFkB,YAAAA,QAAQ,EAAE;AACRC,cAAAA,SAAS,EAAE;AAAEb,gBAAAA,KAAK,EAAE;AAAT;AADH;AADR;AADG,SADG;AAQZc,QAAAA,KAAK,EAAE;AACLC,UAAAA,KAAK,EAAE,WADF;AAELC,UAAAA,QAAQ,EAAE;AAFL,SARK;AAYZf,QAAAA,IAAI,EAAE,KAAKT,KAAL,CAAWS,IAZL;AAaZC,QAAAA,KAAK,EAAE,KAAKV,KAAL,CAAWU,KAbN;AAcZe,QAAAA,QAAQ,EAAE,KAdE;AAeZC,QAAAA,QAAQ,EAAE;AAfE,OAAd;AAkBA,YAAM9B,UAAU,CAACsB,KAAD,CAAV,CAAkBS,IAAlB,CACJC,QAAQ,IAAI,KAAKZ,QAAL,CAAc;AACxBH,QAAAA,OAAO,EAAEe,QAAQ,CAACxB,IADM;AAExBK,QAAAA,IAAI,EAAEmB,QAAQ,CAACxB,IAAT,CAAcK,IAFI;AAGxBE,QAAAA,KAAK,EAAEiB,QAAQ,CAACxB,IAAT,CAAcO,KAHG;AAIxBC,QAAAA,IAAI,EAAEgB,QAAQ,CAACxB,IAAT,CAAcQ;AAJI,OAAd,CADR,CAAN;AASA,WAAKI,QAAL,CAAc;AACZC,QAAAA,OAAO,EAAE;AADG,OAAd;AAGD,KAvDsC;;AAAA,SAyDvCY,aAzDuC,GAyDvB,YAAY;AAE1B,YAAMlC,UAAU,GAAGgC,IAAb,CACJC,QAAQ,IAAI,KAAKZ,QAAL,CAAc;AACxBV,QAAAA,YAAY,EAAEsB,QAAQ,CAACxB;AADC,OAAd,CADR,CAAN;AAKD,KAhEsC;;AAAA,SAkEvC0B,eAlEuC,GAkErB,MAAOC,KAAP,IAAiB;AACjC,YAAM,KAAKf,QAAL,CAAc;AAClBX,QAAAA,OAAO,EAAE0B;AADS,OAAd,CAAN;AAGD,KAtEsC;;AAAA,SAwEvCC,iBAxEuC,GAwEnB,YAAY;AAC9B,YAAM,KAAKjB,QAAL,EAAN;AAEA,YAAM,KAAKc,aAAL,EAAN;AACD,KA5EsC;;AAAA,SA8EvC5B,QA9EuC,GA8E5B,MAAM;AACf,WAAKe,QAAL,CAAc;AACZf,QAAAA,QAAQ,EAAE,CAAC,KAAKD,KAAL,CAAWC;AADV,OAAd;AAGD,KAlFsC;;AAAA,SAoFvCgC,QApFuC,GAoF3BC,CAAD,IAAO;AAChB,WAAKlB,QAAL,CAAc;AACZ,SAACkB,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASJ;AADd,OAAd;AAGD,KAxFsC;;AAAA,SA0FvCM,UA1FuC,GA0F1B,MAAOH,CAAP,IAAa;AACxB,UAAI,CAACA,CAAC,CAAC,CAAD,CAAF,IAAS,CAACA,CAAC,CAAC,CAAD,CAAf,EAAoB;AACpB,YAAM,KAAKlB,QAAL,CAAc;AAClBT,QAAAA,SAAS,EAAE;AAAEC,UAAAA,KAAK,EAAE0B,CAAC,CAAC,CAAD,CAAD,CAAKI,EAAd;AAAkBC,UAAAA,GAAG,EAAEL,CAAC,CAAC,CAAD,CAAD,CAAKI;AAA5B;AADO,OAAd,CAAN,CAFwB,CAKxB;AACD,KAhGsC;;AAAA,SAkGvCE,eAlGuC,GAkGpBC,IAAD,IAAU;AAC1B5C,MAAAA,MAAM,CAAC6C,MAAP,CAAc,OAAd;AACA,YAAMC,UAAU,GAAG9C,MAAM,CAAC4C,IAAD,CAAN,CAAaG,MAAb,CAAoB,GAApB,CAAnB;AACA,YAAMC,WAAW,GAAGhD,MAAM,CAAC4C,IAAD,CAAN,CAAaG,MAAb,CAAoB,IAApB,CAApB;AACA,YAAME,YAAY,aAAMH,UAAN,cAAoBE,WAApB,CAAlB;AACA,aAAOC,YAAP;AACD,KAxGsC;;AAAA,SA0GvCC,IA1GuC,GA0GhC,MAAM;AACX,UAAI,KAAK/C,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,CAAwBkC,MAAxB,KAAmC,CAAvC,EAA0C;AACxC,eACE,KAAKhD,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,CAAwBmC,GAAxB,CAA6BC,IAAD,IAC1B;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGA,IAAI,CAACC,EADR,CADF,EAIE;AAAK,UAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGD,IAAI,CAACE,WADR,CAJF,EAOE;AAAK,UAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGF,IAAI,CAACG,UADR,CAPF,EAUE;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGH,IAAI,CAACI,YADR,CAVF,CADF,EAeE;AAAK,UAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAfF,CADF,CADF;AAoBD,OArBD,MAqBK;AACH,eACE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDADF;AAGD;AACF,KArIsC;AAAA;;AAuIvCC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CADF,EAKG,KAAKvD,KAAL,CAAWC,QAAX,GACC;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,SAAS,EAAC,QAAjC;AAA0C,MAAA,OAAO,EAAE,KAAKA,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF,EAIE;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE,oBAAC,KAAD;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,KAAK,EAAE;AAAEuD,QAAAA,KAAK,EAAE;AAAT,OAFT;AAGE,MAAA,IAAI,EAAC,IAHP;AAIE,MAAA,KAAK,EAAE,KAAKxD,KAAL,CAAWE,EAJpB;AAKE,MAAA,WAAW,EAAC,aALd;AAME,MAAA,QAAQ,EAAE,KAAK+B,QANjB;AAOE,MAAA,UAAU,MAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAcE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE,oBAAC,KAAD;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,KAAK,EAAE;AAAEuB,QAAAA,KAAK,EAAE;AAAT,OAFT;AAGE,MAAA,IAAI,EAAC,IAHP;AAIE,MAAA,KAAK,EAAE,KAAKxD,KAAL,CAAWG,EAJpB;AAKE,MAAA,WAAW,EAAC,0BALd;AAME,MAAA,QAAQ,EAAE,KAAK8B,QANjB;AAOE,MAAA,UAAU,MAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAdF,CAJF,EAgCE;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE,oBAAC,UAAD,CAAY,WAAZ;AACE,MAAA,WAAW,EAAC,eADd;AAEE,MAAA,MAAM,EAAC,YAFT;AAGE,MAAA,iBAAiB,EAAC,QAHpB;AAIE,MAAA,QAAQ,EAAE,KAAKI,UAJjB;AAKE,MAAA,IAAI,EAAE,KAAKA,UALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAYE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEG,KAAKrC,KAAL,CAAWM,YAAX,CAAwB0C,MAAxB,KAAmC,CAAnC,GACC,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,2BAAd;AAA0C,MAAA,KAAK,EAAE;AAAEQ,QAAAA,KAAK,EAAE;AAAT,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAEC,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,KAAKxD,KAAL,CAAWK,OAA1B;AAAmC,MAAA,KAAK,EAAE;AAAEmD,QAAAA,KAAK,EAAE;AAAT,OAA1C;AAA6D,MAAA,QAAQ,EAAE,KAAK1B,eAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8F,KAAK9B,KAAL,CAAWM,YAAX,CAAwB2C,GAAxB,CAA6BQ,KAAD,IAAW,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAEA,KAAK,CAACrB,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BqB,KAAK,CAACrB,IAAlC,CAAvC,CAA9F,CAJJ,CAZF,CAhCF,CADD,GAqDC;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,SAAS,EAAC,QAAjC;AAA0C,MAAA,OAAO,EAAE,KAAKnC,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CA1DJ,EA8DE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAIE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAJF,EAOE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF,EAUE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAVF,CA9DF,EA8EE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9EF,EA+EG,KAAKD,KAAL,CAAWiB,OAAX,GAAqB;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsB,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKjB,KAAL,CAAWiB,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,CAArB,GAA0F,KAAK8B,IAAL,EA/E7F,EAiFE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAY,MAAA,cAAc,EAAE,CAA5B;AAA+B,MAAA,KAAK,EAAE,EAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAjFF,CADF;AAuFD;;AA/NsC;;AAkOzC,eAAehD,gBAAf","sourcesContent":["import React, { Component } from 'react'\nimport './index.css'\nimport { Pagination, DatePicker, Button, Input, Select, Spin } from 'antd'\nimport { getTecnico } from '../../../../services/tecnico'\nimport { getTodasOs } from '../../../../services/reservaOs';\nimport moment from 'moment';\n\n\nconst { Option } = Select;\n\nclass GerenciarEntrada extends Component {\n\n  state = {\n    avancado: false,\n    os: '',\n    rs: '',\n    data: '',\n    tecnico: 'Não selecionado',\n    tecnicoArray: [],\n    valueDate: { start: '2019/01/01' },\n    page: 1,\n    total: 10,\n    count: 0,\n    show: 0,\n    OsArray: {\n      rows: []\n    },\n  }\n\n  getAllOs = async () => {\n\n    this.setState({\n      loading: true\n    })\n\n    const query = {\n      filters: {\n        os: {\n          specific: {\n            deletedAt: { start: '2019/01/01' }\n          }\n        }\n      },\n      order: {\n        field: 'deletedAt',\n        acendent: true\n      },\n      page: this.state.page,\n      total: this.state.total,\n      required: false,\n      paranoid: false,\n    }\n\n    await getTodasOs(query).then(\n      resposta => this.setState({\n        OsArray: resposta.data,\n        page: resposta.data.page,\n        count: resposta.data.count,\n        show: resposta.data.show,\n      })\n    )\n\n    this.setState({\n      loading: false\n    })\n  }\n\n  getAllTecnico = async () => {\n\n    await getTecnico().then(\n      resposta => this.setState({\n        tecnicoArray: resposta.data,\n      })\n    )\n  }\n\n  onChangeTecnico = async (value) => {\n    await this.setState({\n      tecnico: value\n    })\n  }\n\n  componentDidMount = async () => {\n    await this.getAllOs()\n\n    await this.getAllTecnico()\n  }\n\n  avancado = () => {\n    this.setState({\n      avancado: !this.state.avancado\n    })\n  }\n\n  onChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  searchDate = async (e) => {\n    if (!e[0] || !e[1]) return\n    await this.setState({\n      valueDate: { start: e[0]._d, end: e[1]._d },\n    })\n    // await this.getAllEntrada()\n  }\n\n  formatDateFunct = (date) => {\n    moment.locale('pt-br')\n    const formatDate = moment(date).format('L')\n    const formatHours = moment(date).format('LT')\n    const dateformated = `${formatDate} ${formatHours}`\n    return dateformated\n  }\n\n  test = () => {\n    if (this.state.OsArray.rows.length !== 0) {\n      return (\n        this.state.OsArray.rows.map((line) =>\n          <div className='div-100-Gentrada'>\n            <div className='div-lines-ROs'>\n              <div className='cel-Os-cabecalho-ROs'>\n                {line.id}\n              </div>\n              <div className='cel-rs-cabecalho-ROs'>\n                {line.razaoSocial}\n              </div>\n              <div className='cel-tecnico-cabecalho-ROs'>\n                {line.technician}\n              </div>\n              <div className='cel-data-cabecalho-ROs'>\n                {line.formatedDate}\n              </div>\n            </div>\n            <div className=' div-separate1-Gentrada' />\n          </div>)\n      )\n    }else{\n      return(\n        <div className='div-naotemnada'>Não há nenhuma reserva finalizada</div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className='div-card-ROs'>\n        <div className='linhaTexto-ROs'>\n          <h1 className='h1-ROs'>Relatório das Os</h1>\n        </div>\n\n        {this.state.avancado ?\n          <div className='div-linha-avancado-Rtecnico'>\n            <div className='div-ocultar-Rtecnico'>\n              <Button type=\"primary\" className='button' onClick={this.avancado}>Ocultar</Button>\n            </div>\n            <div className='div-linha1-avancado-Rtecnico'>\n              <div className='div-Os-ROs'>\n                <div className='div-text-Rtecnico'>Os:</div>\n                <Input\n                  className='input-100'\n                  style={{ width: '100%' }}\n                  name='os'\n                  value={this.state.os}\n                  placeholder=\"Digite a Os\"\n                  onChange={this.onChange}\n                  allowClear\n                />\n              </div>\n\n              <div className='div-rs-ROs'>\n                <div className='div-textRs-Os'>Razão social:</div>\n                <Input\n                  className='input-100'\n                  style={{ width: '100%' }}\n                  name='rs'\n                  value={this.state.rs}\n                  placeholder=\"Digite o razão social\"\n                  onChange={this.onChange}\n                  allowClear\n                />\n              </div>\n            </div>\n\n            <div className='div-linha1-avancado-Rtecnico'>\n              <div className='div-data-ROs'>\n                <div className='div-text-Rtecnico'>Data:</div>\n                <DatePicker.RangePicker\n                  placeholder='Digite a data'\n                  format='DD/MM/YYYY'\n                  dropdownClassName='poucas'\n                  onChange={this.searchDate}\n                  onOk={this.searchDate}\n                />\n              </div>\n\n              <div className='div-tecnico-ROs'>\n                <div className='div-text-Rtecnico'>Técnico:</div>\n                {this.state.tecnicoArray.length === 0 ?\n                  <Select value='Nenhum tecnico cadastrado' style={{ width: '100%' }}></Select> :\n                  <Select value={this.state.tecnico} style={{ width: '100%' }} onChange={this.onChangeTecnico}>{this.state.tecnicoArray.map((valor) => <Option value={valor.name}>{valor.name}</Option>)}</Select>}\n              </div>\n            </div>\n          </div> :\n          <div className='div-avancado-Rtecnico'>\n            <Button type=\"primary\" className='button' onClick={this.avancado}>Avançado</Button>\n          </div>}\n\n        <div className='div-cabecalho-ROs'>\n          <div className='cel-Os-cabecalho-ROs'>\n            Nº Os\n          </div>\n          <div className='cel-rs-cabecalho-ROs'>\n            Razão social\n          </div>\n          <div className='cel-tecnico-cabecalho-ROs'>\n            Técnico\n          </div>\n          <div className='cel-data-cabecalho-ROs'>\n            Data atendimento\n          </div>\n        </div>\n\n\n        <div className=' div-separate-ROs'></div>\n        {this.state.loading ? <div className='spin'><Spin spinning={this.state.loading} /></div> : this.test()}\n\n        <div className='footer-ROs'>\n          <Pagination defaultCurrent={1} total={50} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default GerenciarEntrada"]},"metadata":{},"sourceType":"module"}