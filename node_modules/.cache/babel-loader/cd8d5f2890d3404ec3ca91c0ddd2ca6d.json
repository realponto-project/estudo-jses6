{"ast":null,"code":"var _jsxFileName = \"/home/guilhermestain/development/stock-front/src/pages/Relatorios/RelatorioPerda/RelatorioPerdaContainer/index.js\";\nimport React, { Component } from 'react';\nimport './index.css';\nimport { Pagination, DatePicker, Select, Button, Input, Spin } from 'antd';\nimport { getTecnico } from '../../../../services/tecnico';\nimport { getRelatorioPerda } from '../../../../services/realatorioPerda';\nconst Option = Select.Option;\n\nclass GerenciarEntrada extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      avancado: false,\n      tecnicoArray: [],\n      tecnico: 'Não selecionado',\n      data: '',\n      produto: '',\n      relatorioArray: {\n        rows: []\n      },\n      page: 1,\n      total: 10,\n      count: 0,\n      show: 0,\n      loading: false\n    };\n\n    this.getAllTecnico = async () => {\n      await getTecnico().then(resposta => this.setState({\n        tecnicoArray: resposta.data\n      }));\n    };\n\n    this.componentDidMount = async () => {\n      await this.getAllTecnico();\n      await this.getRelatorio();\n    };\n\n    this.avancado = () => {\n      this.setState({\n        avancado: !this.state.avancado\n      });\n    };\n\n    this.getRelatorio = async () => {\n      this.setState({\n        loading: true\n      });\n      const query = {\n        filters: {\n          kitOut: {\n            specific: {\n              action: 'perda'\n            }\n          }\n        },\n        page: this.state.page,\n        total: this.state.total\n      };\n      await getRelatorioPerda(query).then(resposta => this.setState({\n        relatorioArray: resposta.data,\n        page: resposta.data.page,\n        count: resposta.data.count,\n        show: resposta.data.show\n      }));\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.test = () => {\n      if (this.state.relatorioArray.rows.length !== 0) {\n        return this.state.relatorioArray.rows.map(line => React.createElement(\"div\", {\n          className: \"div-100-Gentrada\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \" div-separate-RPerda\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"div-lines-RPerda\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cel-produto-cabecalho-RPerda\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, line.name), React.createElement(\"div\", {\n          className: \"cel-quant-cabecalho-RPerda\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, line.amount), React.createElement(\"div\", {\n          className: \"cel-usuario-cabecalho-RPerda\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, line.technician), React.createElement(\"div\", {\n          className: \"cel-data-cabecalho-Gentrada\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, line.createdAt))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"div-naotemnada\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"N\\xE3o h\\xE1 nenhuma perda at\\xE9 o momento\");\n      }\n    };\n  }\n\n  render() {\n    console.log(this.state.relatorioArray.rows);\n    return React.createElement(\"div\", {\n      className: \"div-card-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"linhaTexto-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h1-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Relat\\xF3rio de perda\")), this.state.avancado ? React.createElement(\"div\", {\n      className: \"div-linha-avancado-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-ocultar-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      className: \"button\",\n      onClick: this.avancado,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Ocultar\")), React.createElement(\"div\", {\n      className: \"div-linha1-avancado-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-produto-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-text-Os\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Produto:\"), React.createElement(Input, {\n      className: \"input-100\",\n      style: {\n        width: '100%'\n      },\n      name: \"produto\",\n      value: this.state.produto,\n      placeholder: \"Digite o produto\",\n      onChange: this.onChange,\n      allowClear: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"div-data-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-text-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Data:\"), React.createElement(DatePicker.RangePicker, {\n      placeholder: \"Digite a data\",\n      format: \"DD/MM/YYYY\",\n      dropdownClassName: \"poucas\",\n      onChange: this.searchDate,\n      onOk: this.searchDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"div-tecnico-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-text-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"T\\xE9cnico:\"), this.state.tecnicoArray.length === 0 ? React.createElement(Select, {\n      value: \"Nenhum tecnico cadastrado\",\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }) : React.createElement(Select, {\n      value: this.state.tecnico,\n      style: {\n        width: '100%'\n      },\n      onChange: this.onChangeTecnico,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, this.state.tecnicoArray.map(valor => React.createElement(Option, {\n      value: valor.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, valor.name)))))) : React.createElement(\"div\", {\n      className: \"div-avancado-Rtecnico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      className: \"button\",\n      onClick: this.avancado,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Avan\\xE7ado\")), React.createElement(\"div\", {\n      className: \"div-cabecalho-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cel-produto-cabecalho-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Produto\"), React.createElement(\"div\", {\n      className: \"cel-quant-cabecalho-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Qnt.\"), React.createElement(\"div\", {\n      className: \"cel-usuario-cabecalho-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"T\\xE9cnico\"), React.createElement(\"div\", {\n      className: \"cel-data-cabecalho-RPerda\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Data lan\\xE7amento\")), this.state.loading ? React.createElement(\"div\", {\n      className: \"spin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(Spin, {\n      spinning: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })) : this.test(), React.createElement(\"div\", {\n      className: \" div-separate-Gentrada\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"footer-Gentrada\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      defaultCurrent: 1,\n      total: 50,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default GerenciarEntrada;","map":{"version":3,"sources":["/home/guilhermestain/development/stock-front/src/pages/Relatorios/RelatorioPerda/RelatorioPerdaContainer/index.js"],"names":["React","Component","Pagination","DatePicker","Select","Button","Input","Spin","getTecnico","getRelatorioPerda","Option","GerenciarEntrada","state","avancado","tecnicoArray","tecnico","data","produto","relatorioArray","rows","page","total","count","show","loading","getAllTecnico","then","resposta","setState","componentDidMount","getRelatorio","query","filters","kitOut","specific","action","test","length","map","line","name","amount","technician","createdAt","render","console","log","width","onChange","searchDate","onChangeTecnico","valor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './index.css'\nimport { Pagination, DatePicker, Select, Button, Input, Spin } from 'antd'\nimport { getTecnico } from '../../../../services/tecnico'\nimport { getRelatorioPerda } from '../../../../services/realatorioPerda';\n\n\nconst { Option } = Select;\n\nclass GerenciarEntrada extends Component {\n\n  state = {\n    avancado: false,\n    tecnicoArray: [],\n    tecnico: 'Não selecionado',\n    data: '',\n    produto: '',\n    relatorioArray: {\n      rows: []\n    },\n    page: 1,\n    total: 10,\n    count: 0,\n    show: 0,\n    loading: false,\n  }\n\n  getAllTecnico = async () => {\n\n    await getTecnico().then(\n      resposta => this.setState({\n        tecnicoArray: resposta.data,\n      })\n    )\n  }\n\n  componentDidMount = async () => {\n    await this.getAllTecnico()\n\n    await this.getRelatorio()\n  }\n\n  avancado = () => {\n    this.setState({\n      avancado: !this.state.avancado\n    })\n  }\n\n  getRelatorio = async () => {\n\n    this.setState({\n      loading: true\n    })\n\n    const query = {\n      filters: {\n        kitOut: {\n          specific: {\n            action: 'perda'\n          }\n        }\n      },\n      page: this.state.page,\n      total: this.state.total,\n    }\n\n    await getRelatorioPerda(query).then(\n      resposta => this.setState({\n        relatorioArray: resposta.data,\n        page: resposta.data.page,\n        count: resposta.data.count,\n        show: resposta.data.show,\n      })\n    )\n\n    this.setState({\n      loading: false\n    })\n  }\n\n  test = () => {\n    if(this.state.relatorioArray.rows.length !== 0){\n      return(\n        this.state.relatorioArray.rows.map((line) =>\n          <div className='div-100-Gentrada'>\n            <div className=' div-separate-RPerda'></div>\n            <div className='div-lines-RPerda'>\n              <div className='cel-produto-cabecalho-RPerda'>\n                {line.name}\n              </div>\n              <div className='cel-quant-cabecalho-RPerda'>\n                {line.amount}\n              </div>\n              <div className='cel-usuario-cabecalho-RPerda'>\n                {line.technician}\n              </div>\n              <div className='cel-data-cabecalho-Gentrada'>\n                {line.createdAt}\n              </div>\n            </div>\n          </div>\n      ))\n    }else{\n      return(\n        <div className='div-naotemnada'>Não há nenhuma perda até o momento</div>\n      )\n    }\n  }\n\n  render() {\n    console.log(this.state.relatorioArray.rows)\n    return (\n      <div className='div-card-RPerda'>\n        <div className='linhaTexto-RPerda'>\n          <h1 className='h1-RPerda'>Relatório de perda</h1>\n        </div>\n\n        {this.state.avancado ?\n          <div className='div-linha-avancado-Rtecnico'>\n            <div className='div-ocultar-Rtecnico'>\n              <Button type=\"primary\" className='button' onClick={this.avancado}>Ocultar</Button>\n            </div>\n            <div className='div-linha1-avancado-Rtecnico'>\n              <div className='div-produto-RPerda'>\n                <div className='div-text-Os'>Produto:</div>\n                <Input\n                  className='input-100'\n                  style={{ width: '100%' }}\n                  name='produto'\n                  value={this.state.produto}\n                  placeholder=\"Digite o produto\"\n                  onChange={this.onChange}\n                  allowClear\n                />\n              </div>\n\n              <div className='div-data-RPerda'>\n                <div className='div-text-Rtecnico'>Data:</div>\n                <DatePicker.RangePicker\n                  placeholder='Digite a data'\n                  format='DD/MM/YYYY'\n                  dropdownClassName='poucas'\n                  onChange={this.searchDate}\n                  onOk={this.searchDate}\n                />\n              </div>\n\n              <div className='div-tecnico-RPerda'>\n                <div className='div-text-Rtecnico'>Técnico:</div>\n                {this.state.tecnicoArray.length === 0 ?\n                  <Select value='Nenhum tecnico cadastrado' style={{ width: '100%' }}></Select> :\n                  <Select value={this.state.tecnico} style={{ width: '100%' }} onChange={this.onChangeTecnico}>{this.state.tecnicoArray.map((valor) => <Option value={valor.name}>{valor.name}</Option>)}</Select>}\n              </div>\n            </div>\n          </div> :\n          <div className='div-avancado-Rtecnico'>\n            <Button type=\"primary\" className='button' onClick={this.avancado}>Avançado</Button>\n          </div>}\n\n        <div className='div-cabecalho-RPerda'>\n          <div className='cel-produto-cabecalho-RPerda'>\n            Produto\n          </div>\n          <div className='cel-quant-cabecalho-RPerda'>\n            Qnt.\n          </div>\n          <div className='cel-usuario-cabecalho-RPerda'>\n            Técnico\n          </div>\n          <div className='cel-data-cabecalho-RPerda'>\n            Data lançamento\n          </div>\n        </div>\n        \n        {this.state.loading ? <div className='spin'><Spin spinning={this.state.loading}/></div> : this.test()}\n\n        <div className=' div-separate-Gentrada'></div>\n        <div className='footer-Gentrada'>\n          <Pagination defaultCurrent={1} total={50} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default GerenciarEntrada"]},"metadata":{},"sourceType":"module"}